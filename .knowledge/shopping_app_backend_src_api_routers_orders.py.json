{"is_source_file": true, "format": "Python", "description": "This file defines API route handlers for orders in a FastAPI application. It includes endpoints for creating an order from a cart (checkout), listing all orders for a user, and retrieving details of a specific order. Helper functions convert Order model instances into response schemas.", "external_files": ["src.api.db.models", "src.api.db.session", "src.api.deps", "src.api.schemas", "src.api.services"], "external_methods": ["get_db", "get_current_user", "checkout", "list_orders", "get_order"], "published": ["router"], "classes": [{"name": "OrderResponse", "description": "Schema for representing order data in responses."}, {"name": "OrderItemResponse", "description": "Schema for individual order item details in responses."}, {"name": "OrdersListResponse", "description": "Schema for list of orders for a user."}, {"name": "ProductResponse", "description": "Schema for product details included in order items."}], "methods": [{"name": "OrderResponse _order_to_response(order: Order)", "description": "Converts an Order model instance into an OrderResponse schema, including its items.", "scope": "", "scopeKind": ""}, {"name": "OrderResponse checkout_create(payload: CheckoutRequest, db: Session = Depends(get_db), user=Depends(get_current_user))", "description": "Handles the checkout process, creating an order from the current user's cart.", "scope": "", "scopeKind": ""}, {"name": "OrdersListResponse orders_list(db: Session = Depends(get_db), user=Depends(get_current_user))", "description": "Returns a list of the current user's orders.", "scope": "", "scopeKind": ""}, {"name": "OrderResponse orders_detail(order_id: int, db: Session = Depends(get_db), user=Depends(get_current_user))", "description": "Retrieves detailed information for a specific order.", "scope": "", "scopeKind": ""}], "calls": ["checkout(db, user_id=user.id)", "list_orders(db, user_id=user.id)", "get_order(db, user_id=user.id, order_id=order_id)"], "search-terms": ["order", "checkout", "orders", "OrderResponse", "OrderItemResponse", "Order", "orders_detail", "orders_list", "checkout_create"], "state": 2, "file_id": 15, "knowledge_revision": 32, "git_revision": "2a88f786d2f75b6839b7f0e1bff94eea68e2274f", "ctags": [{"_type": "tag", "name": "_order_to_response", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313251/shopping_app_backend/src/api/routers/orders.py", "pattern": "/^def _order_to_response(order: Order) -> OrderResponse:$/", "language": "Python", "typeref": "typename:OrderResponse", "kind": "function", "signature": "(order: Order)"}, {"_type": "tag", "name": "checkout_create", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313251/shopping_app_backend/src/api/routers/orders.py", "pattern": "/^def checkout_create(payload: CheckoutRequest, db: Session = Depends(get_db), user=Depends(get_cu/", "language": "Python", "typeref": "typename:OrderResponse", "kind": "function", "signature": "(payload: CheckoutRequest, db: Session = Depends(get_db), user=Depends(get_current_user))"}, {"_type": "tag", "name": "orders_detail", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313251/shopping_app_backend/src/api/routers/orders.py", "pattern": "/^def orders_detail(order_id: int, db: Session = Depends(get_db), user=Depends(get_current_user)) /", "language": "Python", "typeref": "typename:OrderResponse", "kind": "function", "signature": "(order_id: int, db: Session = Depends(get_db), user=Depends(get_current_user))"}, {"_type": "tag", "name": "orders_list", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313251/shopping_app_backend/src/api/routers/orders.py", "pattern": "/^def orders_list(db: Session = Depends(get_db), user=Depends(get_current_user)) -> OrdersListResp/", "language": "Python", "typeref": "typename:OrdersListResponse", "kind": "function", "signature": "(db: Session = Depends(get_db), user=Depends(get_current_user))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/unified-shopping-platform-313242-313251/shopping_app_backend/src/api/routers/orders.py", "pattern": "/^router = APIRouter(tags=[\"orders\"])$/", "language": "Python", "kind": "variable"}], "hash": "5312b13b64d9c125dea91f55ab2b1db8", "format-version": 4, "code-base-name": "shopping_app_backend", "filename": "shopping_app_backend/src/api/routers/orders.py", "fields": [{"name": "router = APIRouter(tags=[\"orders\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"32": "2a88f786d2f75b6839b7f0e1bff94eea68e2274f"}]}